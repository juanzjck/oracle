{"version":3,"file":"upload-manager.js","sourceRoot":"","sources":["../../../../../lib/objectstorage/lib/upload-manager/upload-manager.ts"],"names":[],"mappings":"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"}